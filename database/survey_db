CREATE TABLE USERS (
    UserID INT AUTO_INCREMENT PRIMARY KEY,
    Email VARCHAR(50) NOT NULL,
    Password VARCHAR(255) NOT NULL,
    Salt VARCHAR(255) NOT NULL,
    UserStatus VARCHAR(20),
    Gender VARCHAR(10)
);

CREATE TABLE SURVEYS (
    SurveyID INT AUTO_INCREMENT PRIMARY KEY,
    SurveyName VARCHAR(50) NOT NULL,
    SurveyGender VARCHAR(50) NOT NULL
);

CREATE TABLE QUESTIONS (
    SurveyID INT NOT NULL,
    QuestionNumber INT NOT NULL,
    QuestionType VARCHAR(50) NOT NULL,
    Question VARCHAR(250) NOT NULL,
    PRIMARY KEY (SurveyID, QuestionNumber),
    FOREIGN KEY (SurveyID) REFERENCES SURVEYS(SurveyID)ON DELETE CASCADE
);

CREATE TABLE RESPONSES (
    UserID INT,
    SurveyID INT,
    QuestionNumber INT,
    Answer VARCHAR(250),
    PRIMARY KEY (UserID, SurveyID, QuestionNumber),
    FOREIGN KEY (UserID) REFERENCES USERS(UserID) ON DELETE CASCADE,
    FOREIGN KEY (SurveyID) REFERENCES SURVEYS(SurveyID) ON DELETE CASCADE,
    FOREIGN KEY (SurveyID, QuestionNumber) REFERENCES QUESTIONS(SurveyID, QuestionNumber) ON DELETE CASCADE
);
